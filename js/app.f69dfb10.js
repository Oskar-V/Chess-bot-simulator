(function(e){function t(t){for(var s,r,c=t[0],l=t[1],o=t[2],d=0,h=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,o||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,c=1;c<i.length;c++){var l=i[c];0!==a[l]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},a={app:0},n=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/Chess-bot-simulator/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var u=l;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0128":function(e,t,i){e.exports=i.p+"img/bq.8e8aadb6.svg"},"034f":function(e,t,i){"use strict";i("85ec")},"0f92":function(e,t,i){e.exports=i.p+"img/wr.0095917f.svg"},"14cd":function(e,t,i){e.exports=i.p+"img/br.9a79237a.svg"},3461:function(e,t,i){e.exports=i.p+"img/wn.b243da7d.svg"},"44bf":function(e,t,i){e.exports=i.p+"img/wk.5aad6e48.svg"},"46c0":function(e,t,i){},"548b":function(e,t,i){e.exports=i.p+"img/exchange-alt-solid.8ad4b6e8.svg"},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),a=i("5c96"),n=i.n(a),r=(i("0fae"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("Board")],1)}),c=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"controls-container"},[s("div",[s("div",[e._v("Games played: "+e._s(e.gameCounter))]),s("br"),e.gameCounter%2===0?s("div",[e._v(e._s(e.player1?e.player1:"-")+" wins: "+e._s(e.scoresData[0]))]):e._e(),e.gameCounter%2===0?s("div",[e._v(e._s(e.player1?e.player1:"-")+" ties: "+e._s(e.scoresData[1]))]):e._e(),e.gameCounter%2===0?s("br"):e._e(),s("div",[e._v(e._s(e.player2?e.player2:"-")+" wins: "+e._s(e.scoresData[2]))]),s("div",[e._v(e._s(e.player2?e.player2:"-")+" ties: "+e._s(e.scoresData[3]))]),e.gameCounter%2!==0?s("br"):e._e(),e.gameCounter%2!==0?s("div",[e._v(e._s(e.player1?e.player1:"-")+" wins: "+e._s(e.scoresData[0]))]):e._e(),e.gameCounter%2!==0?s("div",[e._v(e._s(e.player1?e.player1:"-")+" ties: "+e._s(e.scoresData[1]))]):e._e()]),s("div",{staticStyle:{display:"flex",gap:"1em"}},[!e.isStart||e.isPlaying||e.isEndOfSimulations?e._e():s("button",{on:{click:e.handlePlayClick}},[e._v("PLAY")]),e.isStart||!e.isPlaying||e.isEndOfSimulations?e._e():s("button",{on:{click:e.handlePauseClick}},[e._v("PAUSE")]),e.isStart||e.isPlaying||e.isEndOfSimulations?e._e():s("button",{on:{click:e.handleResumeClick}},[e._v("RESUME")]),!e.isStart||e.isEndOfSimulations?s("button",{on:{click:function(t){return e.handleRestartClick(!0)}}},[e._v("RESTART")]):e._e()]),s("div",{staticClass:"controls-inner-container"},[s("div",[s("div",[e._v("Delay in ms")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.delayInMs,expression:"delayInMs"}],attrs:{type:"number",min:"0",max:"5000"},domProps:{value:e.delayInMs},on:{input:function(t){t.target.composing||(e.delayInMs=t.target.value)}}})]),s("div",[s("div",[e._v("Games to be played")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.gamesToBePlayed,expression:"gamesToBePlayed"}],attrs:{type:"number",min:"1",max:"100000"},domProps:{value:e.gamesToBePlayed},on:{input:function(t){t.target.composing||(e.gamesToBePlayed=t.target.value)}}})]),s("div",[s("div",[e._v("Move limit per player")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.moveLimitPerPlayer,expression:"moveLimitPerPlayer"}],attrs:{type:"number",min:"1",max:"100000"},domProps:{value:e.moveLimitPerPlayer},on:{input:function(t){t.target.composing||(e.moveLimitPerPlayer=t.target.value)}}})]),s("div",[s("div",[e._v("Switch sides automatically between games")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.autoSwitchOnGames,expression:"autoSwitchOnGames"}],staticClass:"switch",attrs:{type:"checkbox",name:"scales"},domProps:{checked:Array.isArray(e.autoSwitchOnGames)?e._i(e.autoSwitchOnGames,null)>-1:e.autoSwitchOnGames},on:{change:function(t){var i=e.autoSwitchOnGames,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=null,r=e._i(i,n);s.checked?r<0&&(e.autoSwitchOnGames=i.concat([n])):r>-1&&(e.autoSwitchOnGames=i.slice(0,r).concat(i.slice(r+1)))}else e.autoSwitchOnGames=a}}})])]),s("div",{staticClass:"player-containers"},[s("div",[s("div",[e._v("Player 1 (white) ("+e._s(e.player1History.length)+")")]),s("Select",{attrs:{"allow-create":"",clearable:"",filterable:"","no-data-text":"No endpoints here...",placeholder:"Select or enter endpoint"},model:{value:e.player1,callback:function(t){e.player1=t},expression:"player1"}},e._l(e.endpointsMemory,(function(t){return s("Option",{key:t,attrs:{label:t,value:t}},[s("div",{staticClass:"dropdown-option-container"},[e._v(" "+e._s(t)+" "),"Manual"!==t?s("button",{on:{click:function(i){return e.handleRemoveClick(t)}}},[e._v("remove")]):e._e()])])})),1),s("div",{staticClass:"player-move-history"},e._l(e.player1History,(function(t,i){return s("div",{key:i},[e._v(e._s(t))])})),0)],1),s("div",{staticClass:"switch-container"},[s("div",[e._v("switch")]),s("img",{staticClass:"switch",attrs:{src:i("548b")},on:{click:e.handleSwitchClick}})]),s("div",[s("div",[e._v("Player 2 (black) ("+e._s(e.player2History.length)+")")]),s("Select",{attrs:{"allow-create":"",clearable:"",filterable:"","no-data-text":"No endpoints here...",placeholder:"Select or enter endpoint"},model:{value:e.player2,callback:function(t){e.player2=t},expression:"player2"}},e._l(e.endpointsMemory,(function(t){return s("Option",{key:t,attrs:{label:t,value:t}},[s("div",{staticClass:"dropdown-option-container"},[e._v(" "+e._s(t)+" "),"Manual"!==t?s("button",{on:{click:function(i){return e.handleRemoveClick(t)}}},[e._v("remove")]):e._e()])])})),1),s("div",{staticClass:"player-move-history"},e._l(e.player2History,(function(t,i){return s("div",{key:i},[e._v(e._s(t))])})),0)],1)])]),s("div",{staticStyle:{display:"flex","flex-direction":"column",height:"100%","margin-left":"6em"}},e._l(8,(function(t){return s("div",{key:""+t,staticClass:"board-coords",staticStyle:{height:"6rem",display:"flex","align-items":"center",border:"solid transparent","border-bottom-style":"none"}},[e._v(" "+e._s(9-t)+" ")])})),0),s("div",{staticClass:"field"},[e._l(e.gameSquares,(function(t,i){return s("div",{key:i,class:[e.getSquareColorClass(i),t.isDestinationSquare?"destination-square":""],style:i>55?"border-bottom: solid":"",on:{click:function(i){return e.handleDestinationClick(t)}}},["pieceSquare"===t.squareType?s("Piece",{ref:"chessPiece"+i,refInFor:!0,attrs:{index:i,type:t.type,color:t.color,availableMoves:e.currentMovesVerbose,currentPlayerColor:e.currentPlayer,isManualPlayForThisPiece:("w"===t.color&&"Manual"===e.player1||"b"===t.color&&"Manual"===e.player2)&&e.isPlaying},on:{pieceSelect:e.unSelectPieces,destinationSquaresChange:e.handleDestinationSquaresChange}}):e._e()],1)})),e._l(["a","b","c","d","e","f","g","h"],(function(t,i){return s("div",{key:""+i+t,staticClass:"board-coords",staticStyle:{display:"flex","justify-content":"center"}},[e._v(" "+e._s(t)+" ")])}))],2)])},o=[],u=(i("a434"),i("e9c4"),i("a9e3"),i("a15b"),i("caad"),i("2532"),i("498a"),i("d3b7"),i("159b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"piece"},["w"===e.color&&"b"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("ccd3")},on:{click:e.handlePieceClick}}):e._e(),"w"===e.color&&"k"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("44bf")},on:{click:e.handlePieceClick}}):e._e(),"w"===e.color&&"n"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("3461")},on:{click:e.handlePieceClick}}):e._e(),"w"===e.color&&"p"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("c31d")},on:{click:e.handlePieceClick}}):e._e(),"w"===e.color&&"q"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("fcf2")},on:{click:e.handlePieceClick}}):e._e(),"w"===e.color&&"r"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("0f92")},on:{click:e.handlePieceClick}}):e._e(),"b"===e.color&&"b"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("83ac")},on:{click:e.handlePieceClick}}):e._e(),"b"===e.color&&"k"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("88a8")},on:{click:e.handlePieceClick}}):e._e(),"b"===e.color&&"n"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("7aba")},on:{click:e.handlePieceClick}}):e._e(),"b"===e.color&&"p"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("842d")},on:{click:e.handlePieceClick}}):e._e(),"b"===e.color&&"q"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("0128")},on:{click:e.handlePieceClick}}):e._e(),"b"===e.color&&"r"===e.type?s("img",{staticClass:"piece-icon",class:[e.clickable?"clickable":"",e.isSelected?"selected-piece":""],attrs:{src:i("14cd")},on:{click:e.handlePieceClick}}):e._e()])}),d=[],h=(i("ac1f"),i("1276"),{name:"Piece",props:{color:{type:String},currentPlayerColor:{type:String},type:{type:String},availableMoves:{type:Array,default:null},index:{type:Number,default:null},isManualPlayForThisPiece:{type:Boolean,default:!1}},data:function(){return{isSelected:!1}},methods:{translateNotationToIndex:function(e){var t=e.split("")[0],i=e.split("")[1],s=["a","b","c","d","e","f","g","h"],a=s.indexOf(t)+1,n=8-i+1;return 8*(n-1)+a-1},unSelect:function(){this.isSelected=!1},handlePieceClick:function(){return!!this.clickable&&(this.isSelected?(this.$emit("pieceSelect"),void this.$emit("destinationSquaresChange",[])):(this.$emit("pieceSelect"),void(this.isSelected=!0)))}},watch:{isSelected:function(){var e=this;if(this.isSelected){var t=[];this.availableMoves.forEach((function(i){e.translateNotationToIndex(i.from)===e.index&&t.push({squareIndex:e.translateNotationToIndex(i.to),move:i.san})})),this.$emit("destinationSquaresChange",t)}}},computed:{clickable:function(){var e=this;if(!this.availableMoves||null===this.index)return!1;if(this.color!==this.currentPlayerColor)return!1;if(!this.isManualPlayForThisPiece)return!1;var t=!1;return this.availableMoves.forEach((function(i){e.translateNotationToIndex(i.from)===e.index&&(t=!0)})),t}}}),p=h,y=(i("8bf1"),i("2877")),m=Object(y["a"])(p,u,d,!1,null,"bbf6cad4",null),v=m.exports,f=i("c5ad"),g=i.n(f),b=i("bc3a"),S=i.n(b),k={name:"Board",components:{Piece:v,Select:a["Select"],Option:a["Option"]},data:function(){return{delayInMs:1e3,player2:"",player1:"",allHistory:[],chess:new g.a,currentPlayer:"w",isPlaying:!1,isStart:!0,isEndOfSimulations:!1,gamesToBePlayed:1,gameCounter:0,moveLimitPerPlayer:100,moveTriggerer:!1,scores:{},autoSwitchOnGames:!0,endpointsMemory:[],destinationSquareIndexesObjects:[]}},methods:{handleDestinationClick:function(e){e.isDestinationSquare&&this.handleManualMoveClick(e.moveToThisSquare)},handleRemoveClick:function(e){var t=this.endpointsMemory.indexOf(e);t>-1&&this.endpointsMemory.splice(t,1),localStorage.setItem("endpoints-memory",JSON.stringify(this.endpointsMemory)),this.player1===e&&(this.player1=""),this.player2===e&&(this.player2="")},unSelectPieces:function(){for(var e=0;e<64;e++){var t="chessPiece".concat(e);this.$refs[t]&&(this.$refs[t][0]&&this.$refs[t][0].unSelect())}},handleDestinationSquaresChange:function(e){this.destinationSquareIndexesObjects=e},handleManualMoveClick:function(e){this.unSelectPieces(),this.destinationSquareIndexesObjects=[],this.executeMove(e),this.checkGameStatus()},executeMove:function(e){this.chess.move(e),"w"===this.currentPlayer?(this.currentPlayer="b",this.allHistory.push(e)):"b"===this.currentPlayer&&(this.currentPlayer="w",this.allHistory.push(e))},checkGameStatus:function(){var e=Number(this.moveLimitPerPlayer)<=this.allHistory.length/2;this.chess.game_over()||e?(this.gameCounter++,this.chess.in_draw()||this.chess.in_stalemate()||e?(this.scores[this.player1]["ties"]+=.5,this.scores[this.player2]["ties"]+=.5):("w"===this.currentPlayer&&this.scores[this.player2]["wins"]++,"w"!==this.currentPlayer&&this.scores[this.player1]["wins"]++),this.scores=JSON.parse(JSON.stringify(this.scores)),this.isPlaying=!1,this.isEndOfSimulations=!0,Number(this.gameCounter)<Number(this.gamesToBePlayed)&&(this.handleRestartClick(!1),this.autoSwitchOnGames&&this.handleSwitchClick(),this.handlePlayClick())):this.moveTriggerer=!this.moveTriggerer},handleSwitchClick:function(){var e=this.player2;this.player2=this.player1,this.player1=e},makeAutomaticTurn:function(){var e=this,t="w"===this.currentPlayer?this.player1:this.player2;S.a.post(t,this.allHistory.join(" "),{headers:{"Content-Type":"text/plain"}}).then((function(t){(!e.isStart||e.isPlaying||e.isEndOfSimulations)&&(e.executeMove(t.data),e.checkGameStatus())})).catch((function(e){return console.log(e)}))},handlePlayClick:function(){this.updateEndpointsMemory(),this.isStart=!1,this.isPlaying=!0,this.isEndOfSimulations=!1,void 0===this.scores[this.player1]&&(this.scores[this.player1]={wins:0,ties:0},this.scores[this.player2]={wins:0,ties:0}),this.moveTriggerer=!this.moveTriggerer},handlePauseClick:function(){this.isPlaying=!1,this.isEndOfSimulations=!1},handleResumeClick:function(){this.isPlaying=!0,this.isEndOfSimulations=!1,this.moveTriggerer=!this.moveTriggerer},handleRestartClick:function(e){this.isPlaying=!1,this.isStart=!0,this.chess=new g.a,this.currentPlayer="w",this.allHistory=[],this.isEndOfSimulations=!1,e&&(this.scores={},this.gameCounter=0)},isEvenRow:function(e){return e<8||!(e<16)&&(e<24||!(e<32)&&(e<40||!(e<48)&&e<56))},updateEndpointsMemory:function(){this.endpointsMemory.includes(this.player1)||""===this.player1.trim()||this.endpointsMemory.push(this.player1),this.endpointsMemory.includes(this.player2)||""===this.player2.trim()||this.endpointsMemory.push(this.player2),localStorage.setItem("endpoints-memory",JSON.stringify(this.endpointsMemory))},getSquareColorClass:function(e){var t=this.isEvenRow(e),i=e%2===0;return t&&i?"squareWhite":!t&&i||t&&!i?"squareBlack":t||i?void 0:"squareWhite"}},watch:{moveTriggerer:function(){var e=this;this.isPlaying&&("w"===this.currentPlayer&&"Manual"===this.player1||"b"===this.currentPlayer&&"Manual"===this.player2||setTimeout((function(){e.isPlaying&&e.makeAutomaticTurn()}),Number(this.delayInMs)))}},computed:{player1History:function(){for(var e=[],t=0;t<this.allHistory.length;t++)t%2===0&&e.push(this.allHistory[t]);return e},player2History:function(){for(var e=[],t=0;t<this.allHistory.length;t++)t%2!==0&&e.push(this.allHistory[t]);return e},gameSquares:{cache:!1,get:function(){for(var e=[],t=0;t<this.chess.board().length;t++)for(var i=0;i<this.chess.board()[0].length;i++){var s=this.chess.board()[t][i];null===s?s={squareType:"emptySquare",isDestinationSquare:!1}:(s["squareType"]="pieceSquare",s["isDestinationSquare"]=!1),e.push(s)}return this.destinationSquareIndexesObjects.forEach((function(t){e[t.squareIndex].isDestinationSquare=!0,e[t.squareIndex]["moveToThisSquare"]=t.move})),e}},scoresData:function(){var e=[0,0,0,0];return this.scores[this.player1]&&(e[0]=this.scores[this.player1]["wins"],e[1]=this.scores[this.player1]["ties"]),this.scores[this.player2]&&(e[2]=this.scores[this.player2]["wins"],e[3]=this.scores[this.player2]["ties"]),e},currentMoves:{cache:!1,get:function(){return this.chess.moves()}},currentMovesVerbose:{cache:!1,get:function(){return this.chess.moves({verbose:!0})}}},mounted:function(){localStorage.getItem("endpoints-memory")&&(this.endpointsMemory=JSON.parse(localStorage.getItem("endpoints-memory"))),this.endpointsMemory.includes("Manual")||this.endpointsMemory.push("Manual")}},_=k,P=(i("dc5e"),Object(y["a"])(_,l,o,!1,null,"11ead7fc",null)),C=P.exports,w={name:"App",components:{Board:C}},x=w,M=(i("034f"),Object(y["a"])(x,r,c,!1,null,null,null)),O=M.exports;s["default"].use(n.a),s["default"].config.productionTip=!1,new s["default"]({render:function(e){return e(O)}}).$mount("#app")},"7aba":function(e,t,i){e.exports=i.p+"img/bn.7b95d1a4.svg"},"83ac":function(e,t,i){e.exports=i.p+"img/bb.cb69fc1a.svg"},"842d":function(e,t,i){e.exports=i.p+"img/bp.876f1ece.svg"},"85ec":function(e,t,i){},"88a8":function(e,t,i){e.exports=i.p+"img/bk.e3451fff.svg"},"8bf1":function(e,t,i){"use strict";i("46c0")},adae:function(e,t,i){},c31d:function(e,t,i){e.exports=i.p+"img/wp.e38a4f66.svg"},ccd3:function(e,t,i){e.exports=i.p+"img/wb.49ed56ba.svg"},dc5e:function(e,t,i){"use strict";i("adae")},fcf2:function(e,t,i){e.exports=i.p+"img/wq.518cd5f8.svg"}});
//# sourceMappingURL=app.f69dfb10.js.map